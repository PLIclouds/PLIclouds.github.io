<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/16.png">
  <link rel="mask-icon" href="/images/svg.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha256-CTSx/A06dm1B063156EVh15m6Y67pAjZZaQc89LLSrU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"pliclouds.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.18.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":false,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="blog">
<meta property="og:title" content="Parallel Space">
<meta property="og:url" content="https://pliclouds.github.io/index.html">
<meta property="og:site_name" content="Parallel Space">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="黄浩诚">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://pliclouds.github.io/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Parallel Space</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Parallel Space</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">平凡即伟大</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">黄浩诚</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">34</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">53</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/pliclouds" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;pliclouds" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/huang.hch@gmail.com" title="E-Mail → huang.hch@gmail.com" rel="noopener me"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://pliclouds.github.io/2024/01/11/yolov8%E6%89%8B%E5%8A%BF%E8%AF%86%E5%88%AB%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="黄浩诚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Parallel Space">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Parallel Space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/11/yolov8%E6%89%8B%E5%8A%BF%E8%AF%86%E5%88%AB%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">Yolov8手势识别使用教程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-01-11 13:24:46 / 修改时间：15:09:47" itemprop="dateCreated datePublished" datetime="2024-01-11T13:24:46+08:00">2024-01-11</time>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>383</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="python环境配置">python环境配置</h3>
<p>可以使用anaconda创建虚拟环境，也可以使用系统自带的环境。如果嫌麻烦可以装系统环境里。</p>
<h4 id="anaconda">anaconda</h4>
<p>安装anaconda请自行查看教程。</p>
<p>要创建anaconda环境，可以使用以下命令：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n your_env_name python=x.x</span><br></pre></td></tr></table></figure></p>
<p>yolov8要求<code>python&gt;=3.8</code>。</p>
<p>若使用系统默认环境，则只需要安装python即可。若要检测电脑是否成功创建默认环境，可以使用以下命令：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python --version</span><br></pre></td></tr></table></figure></p>
<p>若看到python版本号即说明安装成功。</p>
<h4 id="进入环境">进入环境</h4>
<p>若使用anaconda环境，则需要在输入安装命令前输入以下命令激活环境：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate your_env_name</span><br></pre></td></tr></table></figure></p>
<p>若使用系统默认环境，在任何位置启动cmd都会自动激活环境</p>
<h4 id="pytorch">pytorch</h4>
<p>可以在<a
target="_blank" rel="noopener" href="https://pytorch.org/get-started/locally/">pytorch官网</a>自行选择版本，查询安装pytorch的命令。若安装在虚拟环境种，要在Package里选择Conda选项。Compute
Platform选择CUDA11.8版本，使用GPU运行程序。<strong>由于训练时使用的pytorch是GPU版本的，安装CPU版本的pytorch将无法运行该程序</strong>。</p>
<p>这一步由于网络问题，可能需要对pip或者conda设置代理，请自行查找代理设置方法。</p>
<h4 id="运行程序">运行程序</h4>
<p>进入环境。安装ultralytics。若在系统默认环境，可以输入以下命令行：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install ultralytics</span><br></pre></td></tr></table></figure><br />
若使用anaconda中的环境，则可以使用如下命令行：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install ultralytics</span><br></pre></td></tr></table></figure></p>
<p>在best.pt路径下运行以下命令：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yolo classify predict model=best.pt <span class="built_in">source</span>=0 show=<span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<p>这个命令会调用摄像头并开启可视化界面，此时即可进行手势识别。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://pliclouds.github.io/2023/12/30/MMDetection%EF%BC%9A%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E5%B7%A5%E5%85%B7%E5%8C%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="黄浩诚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Parallel Space">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Parallel Space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/30/MMDetection%EF%BC%9A%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E5%B7%A5%E5%85%B7%E5%8C%85/" class="post-title-link" itemprop="url">MMDetection：目标检测工具包</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-30 21:29:05" itemprop="dateCreated datePublished" datetime="2023-12-30T21:29:05+08:00">2023-12-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-01-01 16:26:47" itemprop="dateModified" datetime="2024-01-01T16:26:47+08:00">2024-01-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AI/" itemprop="url" rel="index"><span itemprop="name">AI</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AI/CV/" itemprop="url" rel="index"><span itemprop="name">CV</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.8k</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>MMDetection是由香港中文大学MMLab开发的一款目标检测的工具包，属于OpenMMLab项目的一部分。经过使用，这个工具包真的很好用（虽然囿于水平用不明白），而国内资料又是真的很少。最近做专业综合设计恰好发现了这个东西，于是分享一下这几天我自己的学习心得。</p>
<p><a
target="_blank" rel="noopener" href="https://github.com/open-mmlab/mmdetection/tree/main">仓库地址</a></p>
<h3 id="优质资料">优质资料</h3>
<p>这几天我基本把国内有含金量的教程都看了一遍，下面是一些优秀的参考资料：</p>
<ol type="1">
<li><a
target="_blank" rel="noopener" href="https://mmdetection.readthedocs.io/zh-cn/latest/">官方文档</a>：没有什么会比官方文档好使，但是MMDetection的除外。你可以在这里轻松找到环境配置和安装方法，但除此之外其他东西都得你自己去仔细找。反正很多细节我是在文档里找不到的，只能去硬啃源码。</li>
<li><a
target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Jb4y1r7ir/">mmdetection教程(使用篇)</a>：这是b站的教程，是西交大一个学长做的，虽然是做来比赛的，但也适用于初学者，可以说是这几个教程里最实用的一个了。当然，不能是完全的初学者，至少要了解python的面向对象，并且能稍微理解一些项目架构的同学，最好上手训练过。</li>
<li><a
target="_blank" rel="noopener" href="https://blog.csdn.net/qq_16137569/article/details/121316235">MMDetection框架入门教程（完全版）</a>：高屋建瓴从源码开始剖析MMDetection的结构，自底层到实用分析整个工程，确实是完整版（这直接大乘飞升了太强了orz）。新手可以先理解其注册机制和继承机制</li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/369826931">不得不知的
MMDetection
学习路线(个人经验版)</a>：不要被名字蒙蔽了，这是知乎OpenMMLab官方账号发布的，这篇文章后面有博主写的七篇关于MMDetection的文章，这解析可以说这个解析比上一个还狠，反正我是看不下去。</li>
</ol>
<p>还有不少教程教人把这个仓库clone一下然后改人源代码，我是真的看的迷惑了，还有的有不少阅读量，这不纯纯误导新手吗？这环境是一次性用完就不用了是吧？到时候有问题都不知道怎么查。当然，如果有稳定的较为优秀的修改方案倒也不是不能接受，可惜我目前没有发现特别合理的修正，大部分修正看起来都是新手做的。</p>
<h3 id="新手上路">新手上路</h3>
<h4 id="安装">安装</h4>
<p>这个直接看<a
target="_blank" rel="noopener" href="https://mmdetection.readthedocs.io/zh-cn/stable/get_started.html">官方教程</a>，conda和pytorch环境有了就可以不用装了。记得装gpu版的pytorch。换源啥的教程网上都有。</p>
<h4 id="训练流程">训练流程</h4>
<p>我借用<a
target="_blank" rel="noopener" href="https://blog.csdn.net/qq_16137569/article/details/121316235">这篇博客</a>的一张图来说明这个过程：</p>
<p><img src="/images/a13afdb1195f46148843a818cc8f5bbf.png" /></p>
<p>MMDetection参考了pytorch的抽象方式，将训练过程简化为四个步骤：</p>
<ol type="1">
<li>数据集准备</li>
<li>选择基准模型</li>
<li>自定义配置</li>
<li>训练</li>
</ol>
<p>数据集准备其实就是获取数据集的过程，我一般不用它带的库，而是自己去准备。建立数据集网上教程挺多的，应该不成问题。</p>
<p>基准模型就是你想训练的模型的默认形式。这些模型都存储在<code>tools/config/</code>里，需要用什么网络就选择哪个网络作为配置就行。</p>
<p>由于默认参数总有些不适用于自己的训练情况，最次也需要修改数据集的位置，因此需要修改原配置。当然，最简单的办法就是进入mmdetection直接修改源码。但为了不影响后续训练其他模型，最好还是自己写一个配置文件，这也是博客后续的重点内容。</p>
<p>训练只需要用python启动框架已经写好的train.py即可，命令行如下：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python tools/train.py <span class="variable">$&#123;CONFIG&#125;</span></span><br></pre></td></tr></table></figure><br />
<code>$&#123;CONFIG&#125;</code>就是自定义配置文件路径。</p>
<p>官方有一个简单的<a
target="_blank" rel="noopener" href="https://mmdetection.readthedocs.io/zh-cn/stable/user_guides/train.html#id7">实战教程</a>，可以跟着官方做一下，了解一下这个过程。</p>
<h4 id="测试过程">测试过程</h4>
<p>和训练类似，也是只需要用python启动test.py。命令行如下：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python tools/test.py <span class="variable">$&#123;CONFIG&#125;</span> <span class="variable">$&#123;CHECKPOINT&#125;</span></span><br></pre></td></tr></table></figure><br />
<code>$CHECKPOINT</code>是训练时产生的检查点，里面主要存储了模型的权重信息。这个文件可以在训练时创建的文件夹<code>work_dir</code>里找到。</p>
<h4 id="检测过程">检测过程</h4>
<p>我不好说，image_demo好像没什么问题，但是video_demo.py（包括那个gpu加速版本）这个功能甚至有bug。我在issue里找到一样问这个问题的人了。虽然不是什么非常重要的bug，但是感觉还是功能太少了。我发了个评论，但愿官方能看见。</p>
<p>这两个文件共同点就是都调用了一个叫<code>track_iter_progress()</code>的函数，这个应该是代码已经过时了，而且这个功能没啥用。把它去掉就行了。</p>
<p>要运行的话，命令行如下：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python demo/video_demo.py <span class="variable">$&#123;VIDEO&#125;</span> <span class="variable">$&#123;CONFIG&#125;</span> <span class="variable">$&#123;CHECKPOINT&#125;</span> --show --out <span class="variable">$&#123;OUTFILE&#125;</span></span><br></pre></td></tr></table></figure><br />
后面两个选项二选一使用即可。</p>
<p>刚刚又发现gpu加速版<code>--out</code>选项不好使哈哈。这代码可以重写了。</p>
<h3 id="数据集准备">数据集准备</h3>
<p>如果是使用公共数据集，网站也不少，去网上找就行了。</p>
<p>如果自己建数据集，拿到图片后找人标就行了，网上教程也不少。注意要做数据集就认真花时间做，数据标注也是有标准的，不符合标准的数据集只会让训练结果大打折扣。另外需要注意的就是，主流数据集有三种格式：COCO，YOLO和VOC，这几个数据集可以相互转化，<a
target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/461488682">这篇文章</a>提供了相关代码。</p>
<p>官方说是用COCO格式的，但我看扒了下源码，发现<del>这官方虽然嘴上说着不要，身体还是蛮诚实的……</del>其实是支持各种数据集的，就是麻烦一点。</p>
<h3 id="基准模型选择">基准模型选择</h3>
<p>模型选择和目的本身有关。例如精准度要求高，自然模型要选参数多一些的。如果要实时性好的话，选yolo系列就比RCNN系列好一些。这和机器学习相关知识有关，就不详细说明了。</p>
<h3 id="自定义配置">自定义配置</h3>
<p>新手学习最大的阻碍应该就在这里。一看要自己写配置文件就感觉是一件特别困难的事。确实很难，但如果仔细扒它的源码就会发现，其实也还好。我们慢慢分析。</p>
<p>如果按照教程训练一个神经网络，你会发现在<code>work_dir</code>的训练日志子文件夹里会出现一个config文件，这个文件特别的长，包含了原始的训练模型配置，也包含了我们的自定义配置，这才是完整的模型配置文件的样子。</p>
<p>这些组件新手或许看不懂，但你或许会想起原始配置文件上的内容其实正是这些内容。</p>
<p>事实上，MMDetection中的配置文件被分为以下三个部分：<br />
1. 模型Model<br />
2. 数据集Dataset<br />
3. 调度器Scheduler</p>
<p>这一点从<code>tools/configs/_base_</code>文件夹中也可以得到印证。下面，我们先尝试理解这些代码，然后再尝试做一些小的调整。</p>
<p>（如果你硬要杠还有一个default_runtime.py的话那你对）</p>
<h4 id="模型model">模型Model</h4>
<p>这里的模型就是模型具体的架构了。</p>
<p>在MMDetection框架下，任何神经网络都被分为了这么几部分：</p>
<p><img src="/images/v2-7ecc8e5e19c59a3e6682c5e3cdc34918_r.jpg" /></p>
<p>看不懂？别急，我们再看从<code>tools/configs/_base_/models/faster-rcnn_r50_fpn.py</code>节选的部分代码：<br />
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">model = <span class="built_in">dict</span>(</span><br><span class="line">    <span class="built_in">type</span>=<span class="string">&#x27;FasterRCNN&#x27;</span>,</span><br><span class="line">    data_preprocessor=<span class="built_in">dict</span>(</span><br><span class="line">        ...),</span><br><span class="line">    backbone=<span class="built_in">dict</span>(</span><br><span class="line">        <span class="built_in">type</span>=<span class="string">&#x27;ResNet&#x27;</span>,</span><br><span class="line">        depth=<span class="number">50</span>,</span><br><span class="line">        num_stages=<span class="number">4</span>,</span><br><span class="line">        out_indices=(<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>),</span><br><span class="line">        frozen_stages=<span class="number">1</span>,</span><br><span class="line">        norm_cfg=<span class="built_in">dict</span>(<span class="built_in">type</span>=<span class="string">&#x27;BN&#x27;</span>, requires_grad=<span class="literal">True</span>),</span><br><span class="line">        norm_eval=<span class="literal">True</span>,</span><br><span class="line">        style=<span class="string">&#x27;pytorch&#x27;</span>,</span><br><span class="line">        init_cfg=<span class="built_in">dict</span>(<span class="built_in">type</span>=<span class="string">&#x27;Pretrained&#x27;</span>, checkpoint=<span class="string">&#x27;torchvision://resnet50&#x27;</span>)),</span><br><span class="line">    neck=<span class="built_in">dict</span>(</span><br><span class="line">        ...),</span><br><span class="line">    rpn_head=<span class="built_in">dict</span>(</span><br><span class="line">        ...),</span><br><span class="line">    roi_head=<span class="built_in">dict</span>(</span><br><span class="line">        ...),</span><br><span class="line">    <span class="comment"># model training and testing settings</span></span><br><span class="line">    train_cfg=<span class="built_in">dict</span>(</span><br><span class="line">        rpn=<span class="built_in">dict</span>(</span><br><span class="line">            assigner=<span class="built_in">dict</span>(</span><br><span class="line">                ...),</span><br><span class="line">            sampler=<span class="built_in">dict</span>(</span><br><span class="line">                ...),</span><br><span class="line">            allowed_border=-<span class="number">1</span>,</span><br><span class="line">            pos_weight=-<span class="number">1</span>,</span><br><span class="line">            debug=<span class="literal">False</span>),</span><br><span class="line">        rpn_proposal=<span class="built_in">dict</span>(</span><br><span class="line">            ...),</span><br><span class="line">        rcnn=<span class="built_in">dict</span>(</span><br><span class="line">            assigner=<span class="built_in">dict</span>(</span><br><span class="line">                ...),</span><br><span class="line">            sampler=<span class="built_in">dict</span>(</span><br><span class="line">                ...),</span><br><span class="line">            pos_weight=-<span class="number">1</span>,</span><br><span class="line">            debug=<span class="literal">False</span>)),</span><br><span class="line">    test_cfg=<span class="built_in">dict</span>(</span><br><span class="line">        ...</span><br><span class="line">    ))</span><br></pre></td></tr></table></figure></p>
<p>你就会惊讶地发现，<strong>这个文件通篇只定义了一个字典，而且每一个键值对都是对网络结构的细致描述</strong>。</p>
<p>而且，即便没有学过python，你也可以通过改变里面的数值，轻松调整神经网络的参数。</p>
<h4 id="数据集dataset">数据集Dataset</h4>
<p>这一部分官网并没有给出比较明确的代码结构，于是我去扒源码看了看，发现这个结构更加简单：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">dataset_type = <span class="string">&#x27;CocoDataset&#x27;</span></span><br><span class="line">data_root = <span class="string">&#x27;data/coco/&#x27;</span></span><br><span class="line"></span><br><span class="line">backend_args = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">train_pipeline = [</span><br><span class="line">    <span class="built_in">dict</span>(<span class="built_in">type</span>=<span class="string">&#x27;LoadImageFromFile&#x27;</span>, backend_args=backend_args),</span><br><span class="line">    <span class="built_in">dict</span>(<span class="built_in">type</span>=<span class="string">&#x27;LoadAnnotations&#x27;</span>, with_bbox=<span class="literal">True</span>),</span><br><span class="line">    <span class="built_in">dict</span>(<span class="built_in">type</span>=<span class="string">&#x27;Resize&#x27;</span>, scale=(<span class="number">1333</span>, <span class="number">800</span>), keep_ratio=<span class="literal">True</span>),</span><br><span class="line">    <span class="built_in">dict</span>(<span class="built_in">type</span>=<span class="string">&#x27;RandomFlip&#x27;</span>, prob=<span class="number">0.5</span>),</span><br><span class="line">    <span class="built_in">dict</span>(<span class="built_in">type</span>=<span class="string">&#x27;PackDetInputs&#x27;</span>)</span><br><span class="line">]</span><br><span class="line">test_pipeline = [</span><br><span class="line">   ...</span><br><span class="line">]</span><br><span class="line">train_dataloader = <span class="built_in">dict</span>(</span><br><span class="line">    batch_size=<span class="number">2</span>,</span><br><span class="line">    num_workers=<span class="number">2</span>,</span><br><span class="line">    persistent_workers=<span class="literal">True</span>,</span><br><span class="line">    sampler=<span class="built_in">dict</span>(<span class="built_in">type</span>=<span class="string">&#x27;DefaultSampler&#x27;</span>, shuffle=<span class="literal">True</span>),</span><br><span class="line">    batch_sampler=<span class="built_in">dict</span>(<span class="built_in">type</span>=<span class="string">&#x27;AspectRatioBatchSampler&#x27;</span>),</span><br><span class="line">    dataset=<span class="built_in">dict</span>(</span><br><span class="line">        <span class="built_in">type</span>=dataset_type,</span><br><span class="line">        data_root=data_root,</span><br><span class="line">        ann_file=<span class="string">&#x27;annotations/instances_train2017.json&#x27;</span>,</span><br><span class="line">        data_prefix=<span class="built_in">dict</span>(img=<span class="string">&#x27;train2017/&#x27;</span>),</span><br><span class="line">        filter_cfg=<span class="built_in">dict</span>(filter_empty_gt=<span class="literal">True</span>, min_size=<span class="number">32</span>),</span><br><span class="line">        pipeline=train_pipeline,</span><br><span class="line">        backend_args=backend_args))</span><br><span class="line">val_dataloader = <span class="built_in">dict</span>(</span><br><span class="line">    ...)</span><br><span class="line">test_dataloader = val_dataloader</span><br><span class="line"></span><br><span class="line">val_evaluator = <span class="built_in">dict</span>(</span><br><span class="line">    <span class="built_in">type</span>=<span class="string">&#x27;CocoMetric&#x27;</span>,</span><br><span class="line">    ann_file=data_root + <span class="string">&#x27;annotations/instances_val2017.json&#x27;</span>,</span><br><span class="line">    metric=<span class="string">&#x27;bbox&#x27;</span>,</span><br><span class="line">    format_only=<span class="literal">False</span>,</span><br><span class="line">    backend_args=backend_args)</span><br><span class="line">test_evaluator = val_evaluator</span><br></pre></td></tr></table></figure>
<p>按照一样的方法，我们可以看出其实这个文件主要就是三个组件，pipeline，dataloader和evaluator。里面的参数未必能看懂，但也大概能猜出这些组件有什么用吧。</p>
<h4 id="调度器scheduler">调度器Scheduler</h4>
<p>同样的方法，我就不放代码了影响观感，直接放结论。这一部分只有三个组件，分别是参数调度器（控制学习率的变化），优化器（控制学习率的调整策略）和自动学习率调整（根据你的GPU数量和batch_size帮你算初始学习率）</p>
<h4 id="自定义配置文件">自定义配置文件</h4>
<p>看到这里可能朋友们又要抱怨了，这么长的配置文件我得写多久？别急，你看看官方怎么偷懒的。以下代码为<code>/configs/faster_rcnn/faster-rcnn_r101_fpn_1x_coco.py</code>文件的全部代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">_base_ = <span class="string">&#x27;./faster-rcnn_r50_fpn_1x_coco.py&#x27;</span></span><br><span class="line">model = <span class="built_in">dict</span>(</span><br><span class="line">    backbone=<span class="built_in">dict</span>(</span><br><span class="line">        depth=<span class="number">101</span>,</span><br><span class="line">        init_cfg=<span class="built_in">dict</span>(<span class="built_in">type</span>=<span class="string">&#x27;Pretrained&#x27;</span>,</span><br><span class="line">                      checkpoint=<span class="string">&#x27;torchvision://resnet101&#x27;</span>)))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>就五行。从_base_里copy了一个文件，下面写了下backbone的一些参数就结束了。</p>
<p>理解能力好的同学一下就反应过来，这个其实就是只用写修改的部分。确实是这样的。咱们不用管它到底怎么实现这个过程的，咱们只需要知道，可以用<code>_base_</code>来copy重复的代码，然后后面加上修改的部分就行了。</p>
<p>如果大家已经用这个作为配置文件训练过了，从运行后的实际config.py文件来看，这个配置文件可一点都不短。但仔细分析，其实也就改动了这么点地方。</p>
<p>所以说，我们的主要任务只需要写好要修改的部分就好了。这里有一个我写的算是比较通用的自定义模板，大部分网络都需要修改这些东西，大部分改完就能跑起来了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新配置继承了基本配置，并做了必要的修改</span></span><br><span class="line">_base_ = ...</span><br><span class="line"></span><br><span class="line">model = <span class="built_in">dict</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改数据集相关配置</span></span><br><span class="line">data_root = ...</span><br><span class="line">metainfo = &#123;</span><br><span class="line">    <span class="string">&#x27;classes&#x27;</span>: (... )</span><br><span class="line">&#125;</span><br><span class="line">roi_head = <span class="built_in">dict</span>(</span><br><span class="line">    bbox_head = <span class="built_in">dict</span> (</span><br><span class="line">        <span class="comment"># 我们还需要更改 head 中的 num_classes 以匹配数据集中的类别数</span></span><br><span class="line">    	num_classes = <span class="number">2</span>))</span><br><span class="line">train_dataloader = <span class="built_in">dict</span>(</span><br><span class="line">    <span class="comment"># batch_size=32,  # 自己调</span></span><br><span class="line">    dataset=<span class="built_in">dict</span>(</span><br><span class="line">        data_root=data_root,</span><br><span class="line">        metainfo=metainfo,</span><br><span class="line">        ann_file=<span class="string">&#x27;train.json&#x27;</span>,</span><br><span class="line">        data_prefix=<span class="built_in">dict</span>(img=<span class="string">&#x27;train/&#x27;</span>)))</span><br><span class="line">val_dataloader = <span class="built_in">dict</span>(</span><br><span class="line">    dataset=<span class="built_in">dict</span>(</span><br><span class="line">        data_root=data_root,</span><br><span class="line">        metainfo=metainfo,</span><br><span class="line">        ann_file=<span class="string">&#x27;val.json&#x27;</span>,</span><br><span class="line">        data_prefix=<span class="built_in">dict</span>(img=<span class="string">&#x27;val/&#x27;</span>)))</span><br><span class="line">test_dataloader = val_dataloader</span><br><span class="line"></span><br><span class="line"><span class="comment"># 几个路径自己看着改，看不懂就跟着官网的教程实例跑一遍</span></span><br><span class="line">val_evaluator = <span class="built_in">dict</span>(ann_file=data_root + <span class="string">&#x27;/val.json&#x27;</span>)</span><br><span class="line">test_evaluator = val_evaluator</span><br></pre></td></tr></table></figure>
<p>但是那么多参数，我们怎么知道要修改哪些呢？我也看不懂，但我一直遵循一个原则，默认的总差不到哪里去。如果不懂，那就别改。</p>
<h4 id="进阶">进阶</h4>
<p>如果一定想弄懂，当然也是可以的，但官方没有非常好用的相关文档，需要大家手动去扒源码。如果要修改数据集Dataset和模型Model部分的配置，可以到<code>/mmdet/datasets/</code>和<code>/mmdet/models/</code>下查看，看类别就主要看<code>__init__</code>，看细节参数就去相关文件里看，实用细节先不用管，弄明白参数有什么用就行。但如果要修改调配器Scheduler的配置，要到另一个仓库<a
target="_blank" rel="noopener" href="https://github.com/open-mmlab/mmengine">MMEngine</a>下的<code>/optim/scheduler/</code>下寻找（这个路径找了我好久），因为MMDetection很多基本的东西都是基于MMEngine和MMCV来实现的，而这两个东西又是基于Pytorch实现的，所以如果要进一步研究更底层的原理，还需要把这些东西都学明白。<del>我不搞AI我不想研究。</del></p>
<p>其实包括train.py，test.py这些都有很多参数，很多内容官方文档和大佬们都懒得写，都是自己去看才知道。只能说多看源码吧。</p>
<h3 id="总结">总结</h3>
<p>这篇文档就是一个新手文档，深度和精度远没有官方和各位大佬（受我一拜orz）优秀，我只是觉得好像大家没有太考虑萌新的感受，也想借此机会记录一下自己的学习经历，因此写的一篇文章。这个框架确实是一个优秀的框架，值得大家关注。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://pliclouds.github.io/2023/12/23/java%E6%A2%A6%E7%9A%84%E8%B5%B7%E7%82%B92%EF%BC%9A%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%96%E7%95%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="黄浩诚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Parallel Space">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Parallel Space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/23/java%E6%A2%A6%E7%9A%84%E8%B5%B7%E7%82%B92%EF%BC%9A%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%96%E7%95%8C/" class="post-title-link" itemprop="url">Java梦的起点2：面向对象的世界</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-23 21:43:31" itemprop="dateCreated datePublished" datetime="2023-12-23T21:43:31+08:00">2023-12-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-12-25 15:27:13" itemprop="dateModified" datetime="2023-12-25T15:27:13+08:00">2023-12-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.9k</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="面向对象杂谈">面向对象杂谈</h3>
<p>面向对象，这四个字可真够有意思的。引用书中的一句话：</p>
<blockquote>
<p>类实质上就是封装对象属性和行为的载体，而对象则是从类抽象出来的一个实例。</p>
</blockquote>
<p>面向对象认为研究事物只需要研究清楚它的属性和行为就是将一个事物研究透了。怎么说呢，看起来有点机械论的样子，忽略事物发展规律了。但总之，现在大部分程序设计语言都是这么设计的。将事物抽象成属性和行为的载体，倒也不失一种简化方法。</p>
<p>面向对象的三大特质：封装性，继承性，多态性</p>
<p>封装性强调了外部的不可干扰性。类只提供接口，外部只能通过接口操作类。至于类的内部结构功能，外部无法知晓也无法修改。</p>
<p>继承性和多态性都是在说类与类之间的关联。继承性指的是，子类可以继承父类的方法和属性。多态性指的是同一操作可以作用于不同对象。</p>
<p>继承性以子类为主体，说明了子类可以使用父类的方法，拥有父类的属性。而多态性则是将父类的引用指向子类的对象。这一段或许目前看起来难以理解，在看完这一章后，回看这里会了解更深一些。</p>
<h3 id="类的基础知识">类的基础知识</h3>
<p>这一部分主要研究类本身及其对象。</p>
<h4 id="变量和方法">变量和方法</h4>
<p>在类里定义的变量叫做<strong>成员变量</strong>，在类方法里定义的变量被称为<strong>局部变量</strong>。</p>
<p>Java中定义成员方法的例子如下：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] exchange(<span class="type">int</span>[] arr) &#123;</span><br><span class="line">    <span class="comment">// 方法具体内容</span></span><br><span class="line">    <span class="keyword">return</span> ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>可以发现，java允许数组作为返回值和形参。</p>
<h4 id="修饰符">修饰符</h4>
<p>在Java中，成员变量和类方法可以被四种类修饰符修饰，以下是四个修饰符的作用范围：<br />
<img src="/images/2023-12-24%20143027.png" /></p>
<p>我的理解是，私有和默认就是完全不想给用户使用，仅仅是自己开发时有用，私有就只能这个类内部用，默认就包内都可以用。保护允许用户作继承但不允许直接访问原内容，公共就是随便访问。</p>
<p><a
target="_blank" rel="noopener" href="https://blog.csdn.net/I_r_o_n_M_a_n/article/details/119024516">这篇文章</a>详细讲了四个修饰符及其使用规则。</p>
<h4 id="构造函数">构造函数</h4>
<p>Java用构造函数完成对象的创建，假设要创建图书类，其构造函数格式如下：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Book</span><span class="params">(...)</span> &#123;  <span class="comment">// 名字和类名一样，无返回值</span></span><br><span class="line">   ...  <span class="comment">// 构造方法   </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br />
若不在类中添加任何构造方法，编译器会自动放一个无参构造方法。</p>
<p><code>this</code>指的是类的一个实例，我们会用<code>this.成员变量</code>或者<code>this.成员方法</code>来操作，但其实它还可以调用构造方法<code>this(...)</code>。</p>
<p>下面是一个鸡蛋灌饼的例子，例子从书上抄的。默认加一个，除非顾客刻意要求：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Eggcake</span> &#123;</span><br><span class="line">    <span class="type">int</span> eggCount;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Eggcake</span><span class="params">(<span class="type">int</span> eggCount)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.eggCount = eggCount;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Eggcake</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="静态变量和静态方法">静态变量和静态方法</h4>
<p>静态变量和静态方法可以理解为类本身的变量和方法。Java用static来修饰静态变量和方法。调用方法为<code>类名.静态变量</code>或者<code>类名.静态方法</code>。（可以按照<code>成员.静态方法</code>来进行调用，但是容易引起误解，最好不要这么干）</p>
<p>由于它和类本身有关，它不能和类的实例产生任何关系。例如，不能使用this关键字，不能直接调用非静态方法。局部变量也不能是静态的。</p>
<p>java允许在类第一次加载时（首次创建对象，或者首次访问类中的静态方法或者静态成员时）运行一个代码块，称为<strong>静态代码块</strong>，格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        ...  <span class="comment">// 静态代码块</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="类的主方法">类的主方法</h4>
<p>如果要在类中定义主方法，它的语法可以说是唯一的：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>主方法可以传参数进去，在Eclipse中，可以在要运行的java文件上右键，然后选择运行方式，运行配置，在自变量选项卡中输入参数。</p>
<h4 id="对象">对象</h4>
<p>在有了构造函数后，假设我们要操作的类名为<code>Test</code>，要创建了一个对象<code>test</code>，可以按如下格式创建：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Test</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br></pre></td></tr></table></figure><br />
这段代码应该理解为，Java创建了一个<code>Test</code>类型，名为<code>test</code>的引用变量，<code>new Test()</code>创建了一个<code>Test</code>类型的实体，<code>test</code>是这个实体的代理人。</p>
<p>用<code>new</code>创建的实体，超过作用范围会被视为<strong>垃圾</strong>，会被<strong>垃圾回收器</strong>自动回收。也可以给它赋值<code>null</code>，则引用对象指向的实体自动被标记为垃圾。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
<h3 id="继承多态抽象类与接口">继承，多态，抽象类与接口</h3>
<p>这一部分主要研究类和类之间的关系。</p>
<h4 id="继承">继承</h4>
<p>在Java中，继承需要使用关键字<code>extends</code>，格式如下：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Child</span> <span class="keyword">extends</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br />
Java只支持单继承。</p>
<p>创建子类对象会先执行父类的构造函数，再执行子类的构造函数。</p>
<h4 id="final">final</h4>
<p>我们都知道，声明常量使用的是关键字<code>final</code>，但其实方法也可以是常量，这是为了防止子类在继承时意外修改了不应该修改的成员方法或者静态方法。</p>
<p>甚至你可以用<code>final</code>来修饰一个类，用以说明此类不可继承。</p>
<h4 id="object类">Object类</h4>
<p>所有的类都是继承于<code>Object</code>类，下面是<code>Object</code>类中常用的几个方法。</p>
<p><code>getClass()</code>可以获取对象所在类。有时候会搭配<code>getName()</code>获取类的名称。</p>
<p><code>toString()</code>是一个将对象返回为字符串的形式的方法，通常需要重写使用</p>
<p><code>equal()</code>是判断两个对象是否相同的方法。<code>==</code>虽然可以做到，但它要求对象的所有成员变量均一致，但有时候判断是同一个对象并不需要这么严格的标准。</p>
<h4 id="对象类型的转换">对象类型的转换</h4>
<p>对象类型转换有两种方法，但本质上并没有真正对实体产生影响，只不过是引用类型上的小trick。换句话来说，这只不过是它被看作什么的区别，它还是它本身。</p>
<p>有时候，子类的对象要用父类来解释，即将子类对象转成父类对象，就像书上的例子:<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Bird</span> <span class="variable">bird</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pigeon</span>();</span><br></pre></td></tr></table></figure><br />
这是可以的。此时子类的细节被屏蔽，它作为一个父类对象存在，但若你尝试用<code>bird.getClass()</code>去获取它的类型，它其实还是鸽子。父类引用指向子类对象的过程被称为<strong>向上转型</strong>。这个过程是安全的，因为子类对象一定是父类对象，用父类引用指向子类对象是没有任何问题的。</p>
<p>那如果现在我想用子类解释它能行吗？可以的。只需要再建立一个引用：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Pigeon</span> <span class="variable">pigeon</span> <span class="operator">=</span> (Pigeon)bird;</span><br></pre></td></tr></table></figure><br />
这个过程将父类对象强制转成子类对象，赋值给子类引用<code>pigeon</code>。子类引用指向父类对象称为<strong>向下转型</strong>。这个过程不一定是安全的，因为父类对象不一定就是子类对象，强制转换可能出现RE。因此需要结合函数<code>instanceof</code>进行判断，格式如下：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fatherObject <span class="keyword">instanceof</span> SonClass</span><br></pre></td></tr></table></figure><br />
如果是子类对象，就会返回<code>true</code>，否则返回<code>false</code>。</p>
<p>当然这个函数的用法不止这一种。</p>
<h4 id="多态">多态</h4>
<p>在上一个小节我们讨论了向上转型的安全性，这其实就是多态的基础。我们知道，类的成员方法只能作用于本类，同一个方法如何作用于不同对象？这就要用到上面说到的对象类型转换中的向上转型了。通过向上转型将子类对象当作一个父类对象来解释，就可以将子类对象运用于父类的成员方法了。</p>
<p>例如，如果我需要创建一个<code>Shape</code>类，里面有一个成员函数是<code>draw()</code>，图像类下继承有<code>Square</code>，<code>Circular</code>类。如果不使用多态性质，我需要给每一个子类都创建一个画图成员方法，但是有了多态性质，我只需要把子类解释成一个<code>Shape</code>，在<code>Shape</code>类中实现<code>draw()</code>函数即可，我不需要关注具体的形状类型，我只需要画这个图形。</p>
<h4 id="抽象类">抽象类</h4>
<p>上一个小节说到在<code>Shape</code>类里创建画图函数，但这会产生一个问题：<code>Shape</code>类对象本身是不能调用这个函数的，因为一个抽象概念的图像是画不出来的。于是我们需要引入<strong>抽象类</strong>的概念。</p>
<p>Java中使用<code>abstract</code>关键字定义抽象类，该类里抽象的成员方法被称为<strong>抽象方法</strong>。抽象类唯一的意义就是被继承，抽象方法本身也没有方法体，抽象类不可被实例化为对象。</p>
<p>对于抽象类的继承类，被继承后<em>必须实现里面的所有抽象方法</em>。</p>
<h4 id="接口">接口</h4>
<p>上面说到，抽象类的子类必须实现所有抽象方法，但是这会产生一个问题。例如我创建了一个图形抽象类，就需要在每个子类中实现一次这样的代码。而且或许有一些图形我不太需要这个功能，却也被迫要实现这个功能了。</p>
<p>如果是Python的话，我只需要再创建一个画图类，使用多继承就可以解决了。在Java中，这个问题如何解决呢？</p>
<p>我们可以让子类继承接口。这时只需要在需要这个功能的子类中是实现这个接口即可。</p>
<p>接口可以看作一个纯粹的抽象类，其中只有全局静态常量<code>public final static</code>和公共抽象方法<code>public abstract</code>。</p>
<p>创建接口的语法如下：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Intface</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>继承接口的类只需要加上<code>implements Intface</code>即可继承接口了。</p>
<p>子类继承接口</p>
<h4 id="方法重载">方法重载</h4>
<p>方法的重载使得一个类中拥有同名（但是参数类型，顺序，或个数不同）的多个函数。</p>
<p>当然，不定长参数方法也是一种不错的方法，在Java中定义如下：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> ... a)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">        s += a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>可以发现，<code>int ... a</code>在方法体内可以被看作一个一维数组。</p>
<h3 id="包">包</h3>
<p>Java中的包机制和Python的差不多。<strong>包（package）</strong>是为了更好的管理多个类而出现的。实际工程中，每个类都会在一个包里。（当然你硬是不给它放包里也是可以的，它会被放入默认包default
package中。但是最好不要这么做）</p>
<p>每个包都有一个<strong>完整类路径</strong>。这个路径是包名和类名的组合。在调用不同包的时候，需要使用完整包路径进行调用。由于在Java中，一个文件最多对应一个公开类，只需要在文件第一行定义所在包：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 包名</span><br></pre></td></tr></table></figure></p>
<p>若要导入一个包，只需要使用<code>import</code>关键字。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.Math</span><br></pre></td></tr></table></figure>
<p>也可以直接引入单个静态成员。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.System.out</span><br></pre></td></tr></table></figure>
<h3 id="内部类">内部类</h3>
<p>内部类顾名思义就是类内部的类，例如汽车一定会有一个引擎，引擎有点火启动之类的功能。如果要创建内部类对象，可以用如下语法：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Outer</span> <span class="variable">outer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>();</span><br><span class="line">Outer.<span class="type">Inner</span> <span class="variable">inner</span> <span class="operator">=</span> outer.<span class="keyword">new</span> <span class="title class_">Inner</span>();  <span class="comment">// 内部类对象依附于外部类对象，不存在独立的内部类对象</span></span><br></pre></td></tr></table></figure></p>
<p>有时候内部类会出现成员变量和外部类命名一样的情况，书上有一个例子说明了这种情况:<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TheSameName</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">Inner</span> &#123;</span><br><span class="line">        <span class="type">private</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">9</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doit</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">11</span>;</span><br><span class="line">            x++;  <span class="comment">// 局部变量自加</span></span><br><span class="line">            <span class="built_in">this</span>.x++;  <span class="comment">// 内部类成员变量自加</span></span><br><span class="line">            TheSameName.<span class="built_in">this</span>.x++;  <span class="comment">// 外部成员变量自加</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="匿名内部类">匿名内部类</h4>
<p>这种类的存在就像是临时创建的，一次性的类，对象生命周期结束后直接就被Java虚拟机销毁。创建语法如下：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Parent</span>() &#123;</span><br><span class="line">    ...  <span class="comment">// 子类实现的内容</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br />
由于这就是一个一次性的类，它既不能拥有静态方法，也不能拥有构造方法了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://pliclouds.github.io/2023/12/23/Java%E6%A2%A6%E7%9A%84%E8%B5%B7%E7%82%B91%EF%BC%9A%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="黄浩诚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Parallel Space">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Parallel Space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/23/Java%E6%A2%A6%E7%9A%84%E8%B5%B7%E7%82%B91%EF%BC%9A%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/" class="post-title-link" itemprop="url">Java梦的起点1：基础语法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-23 17:31:14" itemprop="dateCreated datePublished" datetime="2023-12-23T17:31:14+08:00">2023-12-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-12-24 21:30:27" itemprop="dateModified" datetime="2023-12-24T21:30:27+08:00">2023-12-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>514</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>基础语法当然越快越好啦，所以我可不会事无巨细的做一个博客的。</p>
<h3 id="基础数据类型">基础数据类型</h3>
<p>Java必须显式定义变量类型。整数部分有<code>byte</code>，<code>short</code>，<code>int</code>，<code>long</code>四种，浮点类型有<code>float</code>和<code>double</code>两种，字符型是<code>char</code>，布尔类型是<code>boolean</code>。取值范围和用法和c++几个类型完全能对应上。</p>
<p>Java的变量命名有一个很抽象的地方就是，除了下划线，字母和数字，它还允许出现美元符号“$”是我没想到的。</p>
<p>声明常量需要在前面加上<code>final</code>修饰。</p>
<h3 id="运算符">运算符</h3>
<p>不能说和c++完全一样吧，倒也有99%差不多。算术运算符就不说了，逻辑运算符，位运算符，三目元运算符，该有的都一样。</p>
<p>目前发现有个不同之处就是，Java提供了一个无符号右移<code>&gt;&gt;&gt;</code>，就算是负数最高位也填0。</p>
<h3 id="类型转换">类型转换</h3>
<p>隐式转换按照其他-&gt;int-&gt;long-&gt;float-&gt;double的顺序，显式也是和c++一样。这俩语言基本语法上真的快无缝衔接了。</p>
<h3 id="控制语句">控制语句</h3>
<p>四个字，一模一样。</p>
<h3 id="数组">数组</h3>
<p>这里倒略有不同。看代码，一眼就懂了。在Java中，创建完的数组会自动赋值为0。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr1d[] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">5</span>]; <span class="comment">// 创建一个5个int组成的一维数组</span></span><br><span class="line"><span class="type">int</span> arr2d[][] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][<span class="number">4</span>]  <span class="comment">// 创建一个2行4列的二维数组</span></span><br></pre></td></tr></table></figure>
<p>初始化也有两种方法：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> myarr[][] = <span class="keyword">new</span> <span class="title class_">int</span>&#123;&#123;<span class="number">1</span>, <span class="number">2</span>&#125;, &#123;<span class="number">3</span>, <span class="number">4</span>&#125;&#125;;</span><br><span class="line"><span class="type">int</span> myarr[][] = &#123;&#123;<span class="number">1</span>, <span class="number">2</span>&#125;, &#123;<span class="number">3</span>, <span class="number">4</span>&#125;&#125;;  <span class="comment">// 省略new int</span></span><br></pre></td></tr></table></figure></p>
<p>Java中数组遍历和c++中的vector很像啊，存在两种遍历方式：</p>
<p>for循环：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr; i++) &#123;</span><br><span class="line">    ...  <span class="comment">// 循环体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br />
foreach循环：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> x : arr) &#123;</span><br><span class="line">    ...  <span class="comment">// 循环体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="几个实用的函数">几个实用的函数</h4>
<p>c++有algorithm库，Java不甘示弱，用Array类把c++中最有用的几个函数都直接变成它的类方法：</p>
<p><code>fill(int a[], int fromIndex, int toIndex, int value)</code>：将<code>value</code>分配到数组中下标为[<code>fromIndex</code>,<code>toIndex</code>)的每个元素中。中间两个参数可以同时省略（这两个参数无论在这个类的哪个方法内都能同时省略，省略后对默认整个数组操作）。</p>
<p><code>sort(object)</code>：对数组排序。</p>
<p><code>binarySearch(Object[] a, int fromIndex, int toIndex, Object key)</code>：对数组进行二分搜索，搜到了返回索引，否则返回-1。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://pliclouds.github.io/2023/12/23/Java%E6%A2%A6%E7%9A%84%E8%B5%B7%E7%82%B90%EF%BC%9AJDK%E5%92%8CEclipse/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="黄浩诚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Parallel Space">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Parallel Space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/23/Java%E6%A2%A6%E7%9A%84%E8%B5%B7%E7%82%B90%EF%BC%9AJDK%E5%92%8CEclipse/" class="post-title-link" itemprop="url">Java梦的起点0：JDK和Eclipse</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-23 14:25:54" itemprop="dateCreated datePublished" datetime="2023-12-23T14:25:54+08:00">2023-12-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-12-25 10:34:52" itemprop="dateModified" datetime="2023-12-25T10:34:52+08:00">2023-12-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>697</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>决定走后端路线这一决定其实特别特别简单。决定做程序员是因为对通信和硬件确实提不起什么兴趣（这一点我花了三年来验证）；而程序员中，算法实在太卷门槛太高，而且“需要做研究”这一点就够我把这个选项排除在外了，申了港新就已经没有回头路了。那剩下那些测试运维啥的，实在没做过，而且好歹我也学过点算法，而且我本人也对后端颇有兴趣，那后端对我而言就是最优选择了。</p>
<p>这个选择唯一的问题就是，我确实一点后端基础都没有。一年前我还太软弱，没有坚定去执行自己的目标，项目什么的都荒废了。今年不同的是，我的心态已经好了太多。经历的更多，越知道如何处变不惊，越能保持初心，可能这就是成长吧。</p>
<p>这个系列对我来说是一个几乎全新的领域。不过既然选择了，就带着热情放手做了。</p>
<h3 id="资源">资源</h3>
<p>参考书用的是《Java 从入门到精通》。</p>
<p>一些网站：</p>
<p><a target="_blank" rel="noopener" href="https://javaguide.cn/">JavaGuide</a></p>
<h3 id="jdk">JDK</h3>
<p>JDK即Java的Develop Kit，不同公司有不同的JDK，这里使用的是Open JDK
11，官网下载安装教程随便去网上找找就有。</p>
<p>这种开发包其实就是编译器，调试器之类的东西，有这些就已经可以用记事本和命令行来运行开发Java程序了。</p>
<p>肯定有同学看到JDK，JRE(Java Runtime Environment)，JVM(Java virtual
Machine)啥的不知道什么意思，这里放一张图：</p>
<p><img src="/images/jdk-include-jre.png" /></p>
<p>先知道意思就行。</p>
<h3 id="eclipse">Eclipse</h3>
<p>Eclipse是一种大型集成开发工具（IDE），其实就是给一个可视化界面，管理项目更加方便。</p>
<p>下载就在官网，汉化包也在官网。都是压缩包。只需要把汉化版覆盖Eclipse里的原文件就可以完成汉化。</p>
<h4 id="创建工程">创建工程</h4>
<p>Java有些不一样的是，在创建工程后还要创建一个类，还要创建一个<code>main()</code>方法。</p>
<ul>
<li>Tip：创建类的时候可以不给所在的包取名（最好别，如果不命名会被放入默认包default
package中），但是运行之前一定得命名。我尝试新建了个包，然后把类文件重构进去了。</li>
</ul>
<p><img src="/images/2023-12-23%20171709.png" /></p>
<p>其实可以看出来，Java的工程逻辑和大部分面向对象的语言一样。最顶层是工程，然后是包，接着是类。main函数存不存在无所谓。应用程序从main函数进入开始运行。</p>
<p>调试也和其他语言差不多，就是单步跳入，单步跳过和单步跳出。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://pliclouds.github.io/2023/12/21/%E8%8B%B1%E8%AF%AD%E9%9D%A2%E8%AF%95%E8%AF%8D%E6%B1%87%E5%BA%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="黄浩诚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Parallel Space">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Parallel Space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/21/%E8%8B%B1%E8%AF%AD%E9%9D%A2%E8%AF%95%E8%AF%8D%E6%B1%87%E5%BA%93/" class="post-title-link" itemprop="url">英语面试词汇库</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-21 13:11:57" itemprop="dateCreated datePublished" datetime="2023-12-21T13:11:57+08:00">2023-12-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-01-05 16:54:05" itemprop="dateModified" datetime="2024-01-05T16:54:05+08:00">2024-01-05</time>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>508</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>鬼知道什么时候就得用上，准备着比较好</p>
<h2 id="专业">专业</h2>
<h3 id="算法类">算法类</h3>
<p>variable 变量</p>
<p>circulation 循环</p>
<p>sort the array in ascending/descending order 对数组升序/降序排序</p>
<p>prefix/suffix sum 前缀/后缀和</p>
<p>differential 差分</p>
<p>binary(lower-bound &amp; upper-bound) search 二分搜索</p>
<p>duplicated element 重复元素</p>
<p>recursion 递归</p>
<p>divide and conquer 分治</p>
<p>enumerate 枚举</p>
<h3 id="数学类">数学类</h3>
<p>2 to the power of n <span class="math inline">\(2^n\)</span></p>
<p>log (base 2) of 10 <span class="math inline">\(log_2 10\)</span></p>
<p>4 minus 3 plus 6 divided by 3 multiplied by 8 <span
class="math inline">\((4-3+6)/3*8\)</span></p>
<p>2 factorial <span class="math inline">\(2!\)</span></p>
<h2 id="自我介绍">自我介绍</h2>
<h3 id="意向类">意向类</h3>
<h4 id="客观">客观</h4>
<p>learn practical skills 获得实用的技能</p>
<p>continuosly upgrading skills 持续更新技能</p>
<p>accumulate valuable work and practical experience 积累工作经验</p>
<p>broaden my horizons 扩展视野</p>
<p>positioning myself on a more exceptional platform
给自己更好的平台</p>
<p>propose innovative solutions for real-world challenges
提出创造性的解决方案</p>
<h4 id="主观">主观</h4>
<p>strong interest in emerging technologies 对不断出现的科技的好奇</p>
<p>intense enthusiasm to solve problems 对解决问题的热忱</p>
<p>aligns perfectly with my passion (for sth.) 完美符合了我的热情</p>
<p>progress further 进步</p>
<h3 id="能力类">能力类</h3>
<h4 id="编程能力">编程能力</h4>
<p>extensive programming experience 出色的编程经验</p>
<p>participate in various coding competitions 参加各类编程比赛</p>
<p>bronze medal in an international collegiate programming contest
ICPC铜</p>
<p>continuous practice 持续练习</p>
<h4 id="领导合作能力">领导/合作能力</h4>
<p>excellent collaboration and leadership abilities 领导和合作能力</p>
<p>collaborative projects 合作项目</p>
<p>held the position of President in our university's computer club
曾经是计算机社团的社长</p>
<p>responsible for organizing daily training sessions and competitions
负责日常训练和比赛</p>
<p>cultivate my leadership skills 培养领导能力</p>
<p>served as a coach 作为教练</p>
<p>learned the importance of effective communication and teamwork
沟通和团队合作的重要性</p>
<h4 id="项目经历">项目经历</h4>
<p>Rich project experience 丰富项目经历</p>
<p>primarily focusing on two 主要专注于两个项目</p>
<p>took on the technical aspects of the projects 主要负责技术部分</p>
<p>image-based underground safety protection system
基于图像的井下安全系统</p>
<p>pre-process 预处理</p>
<p>public opinion analysis management system 舆情分析管理系统</p>
<h4 id="跨学科背景">跨学科背景</h4>
<p>Interdisciplinary background 跨学科背景</p>
<p>expertise in computer-related knowledge 计算机相关知识</p>
<p>quickly adapt to different disciplinary 快速适应不同学科</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://pliclouds.github.io/2023/12/17/%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8%E7%95%AA%E5%A4%962%EF%BC%9A%E4%BA%8C%E5%88%86%E4%BD%9C%E5%A6%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="黄浩诚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Parallel Space">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Parallel Space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/17/%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8%E7%95%AA%E5%A4%962%EF%BC%9A%E4%BA%8C%E5%88%86%E4%BD%9C%E5%A6%96/" class="post-title-link" itemprop="url">算法入门番外2：二分作妖</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-12-17 15:58:51 / 修改时间：17:05:58" itemprop="dateCreated datePublished" datetime="2023-12-17T15:58:51+08:00">2023-12-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">算法入门</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/%E7%95%AA%E5%A4%96/" itemprop="url" rel="index"><span itemprop="name">番外</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>402</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>其实二分有两种常见的写法：</p>
<h3 id="维护搜索区间">维护搜索区间</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">	mid = l + ((r - l) &gt;&gt; <span class="number">1</span>); <span class="comment">// 注意优先级，位运算括号不可去</span></span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">right_side</span>(mid)) &#123; <span class="comment">// 往右搜</span></span><br><span class="line">		ans = mid; <span class="comment">// 这一行也可以在left_side那里</span></span><br><span class="line">		l = mid + <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这是一种记录潜在答案的写法，维护的其实是[l,
r]的未来搜索区间。就是说，接下来二分搜索还会搜索[l,
r]区间内的答案，其他区域不搜索了。</p>
<p>注意记录答案不可省略，后面的更新区间的代码也不能修改，否则会退化成下面的写法。</p>
<h3 id="维护答案所在区间">维护答案所在区间</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (l &lt; r)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">check</span>(mid)) r = mid;  <span class="comment">// 往左搜</span></span><br><span class="line">    <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,l); <span class="comment">//r也可以</span></span><br></pre></td></tr></table></figure>
<p>这种写法更少一些，因为虽然不用记录潜在答案，但写法更麻烦。这里也是在维护[l,
r]，但由于这里维护的是答案所在区间，所以循环条件少了l =
r的情况。同理，如果答案是一个潜在的解，r只能等于mid而不能等于mid -
1。</p>
<p>其实mid也有讲究，直接背结论即可，解释也没什么意义，不会让你对二分理解更深刻一些。</p>
<p>如果下面是<code>r = mid</code>，上面就是<code>mid = (l + r) &gt;&gt; 1</code>；如果下面是<code>l = mid</code>，上面就是<code>mid = (l + r) &gt;&gt; 1 + 1</code></p>
<p>不服可以自己去试一试，不这么做后果就是死循环。</p>
<h3 id="我的一些看法">我的一些看法</h3>
<p>最近看到有一篇题解用的是后一种写法，没看懂代码所以来写这篇博客。但其实这两种写法本质上没有任何区别，目前看来不存在一种方法只能用某种写法实现。事实上，前者的写法更加简洁，理解更加容易。强推前者。</p>
<p><a
target="_blank" rel="noopener" href="https://www.cnblogs.com/KyleDeng/p/9378187.html">参考博客1</a></p>
<p><a
target="_blank" rel="noopener" href="https://blog.csdn.net/Alanrookie/article/details/106158251#:~:text=%E5%AF%B9%E4%BA%8E%E4%BA%8C%E5%88%86%E7%9A%84%E8%BE%B9%E7%95%8C%E9%97%AE%E9%A2%98%EF%BC%8C%E6%88%91%E4%BB%AC%E4%B8%BB%E8%A6%81%E8%A6%81%E6%8A%93%E4%BD%8F%E6%88%91%E4%BB%AC%E5%9C%A8%E5%86%99%E4%BA%8C%E5%88%86%E6%B3%95%E6%97%B6%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E3%80%82%20%E8%80%8C%E6%9C%80%E6%9C%80%E9%87%8D%E8%A6%81%E7%9A%84%E6%98%AF%E8%A6%81%E5%88%86%E6%9E%90while%20%28%29%E5%BE%AA%E7%8E%AF%E5%86%85%E6%9D%A1%E4%BB%B6%EF%BC%8C%E5%B9%B6%E6%8D%AE%E6%AD%A4%E8%A7%A3%E5%86%B3l%E5%92%8Cr%E7%9A%84%E8%BE%B9%E7%95%8C%E5%A4%84%E7%90%86%E9%97%AE%E9%A2%98%E3%80%82,NO.1%20%E5%BE%AA%E7%8E%AF%E6%9D%A1%E4%BB%B6%EF%BC%88%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%AF%B4%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%EF%BC%89%E5%86%B3%E5%AE%9A%E5%B7%A6%E5%8F%B3%E8%BE%B9%E7%95%8C%E7%9A%84%E5%8F%96%E5%80%BC%E5%B8%B8%E8%A7%81%E5%A5%BD%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95%E4%B8%80%E5%85%B1%E6%9C%89%E4%B8%A4%E7%A7%8D%EF%BC%9A%E5%BE%AA%E7%8E%AF%E6%9D%A1%E4%BB%B6%E4%B8%80%EF%BC%9Awhile%20%28l%3C%3Dr%29%EF%BC%8C%E5%88%A9%E7%94%A8ans%3Dmid%E8%AE%B0%E5%BD%95%E4%B8%8B%E7%AD%94%E6%A1%88%E8%BF%99%E6%97%B6%E4%BB%A3%E7%A0%81%E4%B8%AD%E7%9B%B8%E5%BA%94%E7%9A%84ans%3Dmid%2Cl%3Dmid%2B1%2Cr%3Dmid-1%EF%BC%8C%E5%85%B7%E4%BD%93%E8%A7%81%E4%B8%8B%E9%9D%A2%E4%BB%A3%E7%A0%81while%20%28l%3C%3Dr%29">参考博客2</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://pliclouds.github.io/2023/12/10/CSAPP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B02%EF%BC%9A%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="黄浩诚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Parallel Space">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Parallel Space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/10/CSAPP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B02%EF%BC%9A%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/" class="post-title-link" itemprop="url">CSAPP学习笔记2：信息的表示和处理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-12-10 15:09:21 / 修改时间：15:09:44" itemprop="dateCreated datePublished" datetime="2023-12-10T15:09:21+08:00">2023-12-10</time>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>0</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://pliclouds.github.io/2023/12/08/%E5%BB%BA%E7%AB%99%E8%AE%B0%E5%BD%954%EF%BC%9A%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="黄浩诚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Parallel Space">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Parallel Space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/08/%E5%BB%BA%E7%AB%99%E8%AE%B0%E5%BD%954%EF%BC%9A%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87/" class="post-title-link" itemprop="url">建站记录4：插入图片</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-12-08 20:37:05 / 修改时间：21:33:52" itemprop="dateCreated datePublished" datetime="2023-12-08T20:37:05+08:00">2023-12-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BB%BA%E7%AB%99%E8%AE%B0%E5%BD%95/" itemprop="url" rel="index"><span itemprop="name">建站记录</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>533</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>这插入图片本来看起来挺容易的，但是实际弄下来也花了我整整一天时间才算差不多解决这个问题，也算挺折磨的。</p>
<p>众所周知，插入图片有两种办法，绝对路径和相对路径。相对路径看似简单，但是如果用在博客里会出大问题。这里只能用绝对路径。</p>
<h3 id="相对路径的尝试">相对路径的尝试</h3>
<p>我尝试了在各种地方建立image文件夹，改了各种路径，把图片引用到markdown文档里，本地显然没啥问题，但是本地测试服务器的时候就出了各种各样的问题。我还在想是否是hexo没有把图片连带着加载到博客中，突然想到点什么，打开开发者工具，一下发现了不对劲的地方：</p>
<p>同一篇博客，<strong>主页上博客的图片路径和点开博客后图片的路径居然不是同一个</strong>。</p>
<p>我瞬间就明白了，这压根就是两个页面啊，存放在仓库不同的位置，用相对路径找图片，即使图片路径在一个页面能显示了，另一个页面也必然不能显示，这样肯定出问题。</p>
<h3 id="绝对路径">绝对路径</h3>
<p>我啪一下很快啊，直接去查CSDN（其实我一开始看到了那篇博客，但是我始终觉得我的相对路径没啥问题）最终还是使用了根目录那套方案。</p>
<p>在Hexo的目录source中创建一个图片文件夹</p>
<p>把你要插入的图片文件放到该目录下面，在你的文章中正常使用markdown的语法插入图片即可</p>
<p>例如</p>
<p><code>![img](/pic/xxx.png)</code></p>
<p>到此你就完成了插图，并且图片在你的博客上面也会正常显示！</p>
<p>记住在pic前面有一个/,表示根目录的意思，因为对于hexo来说它的资源文件的根目录就是source,当然你也可以修改_config.yml改变这个配置。</p>
<p>这个以根目录开头的绝对路径就是目前的方案了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://pliclouds.github.io/2023/12/07/CSAPP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%B8%B8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="黄浩诚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Parallel Space">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Parallel Space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/07/CSAPP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%B8%B8/" class="post-title-link" itemprop="url">CSAPP学习笔记1：计算机系统漫游</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-07 21:17:42" itemprop="dateCreated datePublished" datetime="2023-12-07T21:17:42+08:00">2023-12-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-12-10 15:04:36" itemprop="dateModified" datetime="2023-12-10T15:04:36+08:00">2023-12-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CSAPP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">CSAPP学习笔记</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.4k</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>这一章主要是为后续章节铺垫。</p>
<h3 id="信息的含义">信息的含义</h3>
<p>计算机中的整数和浮点数并不是数学概念的整数和实数。事实上，系统中所有的信息都是由一串比特组成的，区分不同对象的唯一方法则是其上下文。因此：</p>
<p><strong>信息 = 位 + 上下文</strong>。</p>
<p>使用有限的数位组合去表示数域上无限扩张的数，这必然会导致一些问题。这一部分在第二章会详细阐述</p>
<h3 id="程序从文本到可执行文件">程序从文本到可执行文件</h3>
<p>程序编写好后，在机器上被转变为低级机器语言指令，按照<strong>可执行目标程序</strong>的格式打包好后，以二进制磁盘文件的形式储存。就像这样：</p>
<p><img src="/images/1701956036242.png" alt="1701956036242" /></p>
<p>预处理阶段：根据#开头的预处理命令修改原始C程序。</p>
<p>编译阶段：将程序改写为汇编语言</p>
<p>汇编阶段：将汇编语言转换为机器语言指令，并且打包成一个二进制的<strong>可重定位目标程序</strong>，在我的理解中，这就是一个还没链接外部的可执行文件。</p>
<p>链接阶段：合并外部链接，得到可执行文件。</p>
<p>之后就可以在命令行解释器上加载可执行文件了。</p>
<p>汇编语言只需要能够看懂编译器生成的就行了，不需要自己编写。本书关注x86-64，是因特尔的汇编语言，64位的指令集。</p>
<h3 id="处理器运行指令的方式">处理器运行指令的方式</h3>
<p>要解释这个问题，需要一点系统的硬件知识，如下图：<br />
<img src="/images/1701957897928.png" alt="1701957897928" /></p>
<p>总线：负责信息在部件间的传递。通常传递一定长度的字节块，被称为<strong>字</strong>。字长就是所谓的32位和64位了。</p>
<p>I/O设备：即输入输出设备，系统和外部的交互通道。二者通过控制器或者适配器进行交换信息。</p>
<p>主存：即主存储器或者内存，物理上由一组<strong>动态随机存取存储器(DRAM)</strong>组成。</p>
<p>处理器：即中央处理单元(CPU)。真正的核心只有<strong>程序计数器（PC）</strong>，大小只有一个字，指向要执行的语句。<strong>寄存器文件（register
file）</strong>是一个小储存设备，由一些单个字长的寄存器组成。<strong>算数逻辑单元（ALU）</strong>用来做计算。</p>
<p>（这里有个指令集架构和微体系结构我没看太明白</p>
<p>了解了上述内容，我们就能说明程序的运行方式了：</p>
<ol type="1">
<li>用户输入命令到主储存器：shell将用户输入读入到寄存器，再放到内存中</li>
<li>目标文件代码复制到主存储器：利用<strong>直接存储器存取（DMA）</strong>技术，直接将可执行文件从磁盘读入到主存储器中。</li>
<li>开始执行指令：处理器执行主存中的程序，从寄存器中复制输出信息到显示器上</li>
</ol>
<h3 id="高速缓存">高速缓存</h3>
<p>一个显然的事实是，较大储存设备往往意味着更慢的运行速度和更便宜的内存。因此用缓存的思想，把可能要处理的数据划分一个区域，用更小的存储设备。于是系统设计者在CPU中加入了<strong>高速缓存存储器（cache
memory）</strong>，如下图：</p>
<p><img src="/images/1701961720166.png" alt="1701961720166" /></p>
<p>cache同样分级，即包含L1, L2,
L3三级存储，使用的硬件技术为<strong>静态随机访问存储器（SRAM）</strong>。于是计算机有如下存储结构：</p>
<p><img src="/images/1701961899138.png" alt="1701961899138" /></p>
<p>现代计算机的存储系统非常复杂，拥有高性能和高储存，但同时存在很多可能的错误，这常常体现在c语言的边界处理上。了解储存结构的作用就在这里。</p>
<h3 id="操作系统">操作系统</h3>
<p>操作系统是应用程序和处理器，主存和I/O设备的媒介。所有应用程序都必须通过操作系统操作硬件。我的理解是，应用的编写需要操作系统对底层硬件抽象；应用的运行需要操作系统对不同应用和硬件的协调。</p>
<blockquote>
<p>操作系统有两个基本功能：</p>
<ol type="1">
<li><p>防止硬件被失控的应用程序滥用；</p></li>
<li><p>向应用程序提供简单一致的机制来控制复杂而又大不相同的低级硬件设备。</p></li>
</ol>
</blockquote>
<p>如何实现上述内容？操作系统用了三个抽象的概念来实现：进程，虚拟内存和处理器。</p>
<h4 id="进程">进程</h4>
<blockquote>
<p><strong>进程</strong>是操作系统对一个正在运行的程序的一种抽象。</p>
</blockquote>
<p>说白了，操作系统排除了其他程序的存在，单独告诉程序，你在我这就是个<strong>进程</strong>，你运行你的，别管其他程序。</p>
<p>很多系统中，需要运行的程序的数量都是远大于核的数量的，而一个核在同一个时刻只能运行同一个程序，这就需要<strong>并发运行</strong>，这个概念很像通信里的时分复用，就是处理器将多个应用程序的进程<br />
交错运行，达到看起来像并发运行的样子。</p>
<p>这种操作系统的调度机制称为<strong>上下文切换</strong>。进程运行所需的所有状态信息称为<strong>上下文</strong>。该过程分三步：保存当前进程上下文，恢复新进程上下文，控制权传递给新进程。应用程序调用操作系统的指令被称为<strong>系统调用</strong>指令，这个操作是操作系统内核完成的。</p>
<blockquote>
<p><strong>内核</strong>是操作系统代码常驻主存的部分。</p>
</blockquote>
<h5 id="线程">线程</h5>
<p>其实线程某种意义上就是对进程的并发复用。他们共享进程的上下文，数据和代码。</p>
<h4 id="虚拟内存">虚拟内存</h4>
<p>和进程类似，操作系统排除了应用程序操作实际内存的复杂性，单独告诉程序，你只需要操控我给你的一片区域就行了，实际数据区域你不用管，我会映射过去。</p>
<p>Linux的虚拟地址空间入下图所示，图中地址从下往上增大：</p>
<p><img src="/images/2023-12-09%20170651.png" /></p>
<p>中间的蓝色是预留区域，其他的区域下面分别介绍一下：</p>
<ul>
<li>程序数据和代码：对所有进程而言，代码从固定地址开始，然后是全局变量。该区域根据可执行文件初始化。</li>
<li>堆：显式管理动态内存的区域。可以在程序中调用函数动态扩展收缩。采用队列的数据结构管理</li>
<li>共享库：C标准库等共享库</li>
<li>栈：局部变量存储和函数调用的存储区域。采用堆(stack，不是上面那个堆)的数据结构管理</li>
<li>内核虚拟内存：只有内核能操作的区域。</li>
</ul>
<p>虚拟内存基本的工作方法是将内容存在磁盘上，用主存做缓存。</p>
<h4 id="文件">文件</h4>
<p>文件就是字节序列。所有的I/O设备都能看作文件。系统中的输入输出就是通过调用API来实现控制I/O设备读写的。在Unix规范下，这些系统函数被称为Unix
I/O。</p>
<h3 id="网络通信">网络通信</h3>
<p>网络适配器是系统之间用来网络交换的设备，将信息从一台计算机系统传递到另一台也是计算机的主要功能之一。</p>
<h3 id="重要主题">重要主题</h3>
<h4 id="amdahl定律">Amdahl定律</h4>
<blockquote>
<p>当我们对系统的某个部分加速时，其对系统整体性能的影响取决于该部分的重要性和加速程度。</p>
</blockquote>
<p>若令加速比为<span class="math inline">\(S =
\frac{T_{old}}{T_{new}}\)</span>，其中<span
class="math inline">\(T_{old}\)</span>是局部提升前程序运行总时间，<span
class="math inline">\(T_{new}\)</span>是局部提升后程序运行总时长，<span
class="math inline">\(\alpha\)</span>是提升的局部占总时长的比例，<span
class="math inline">\(k\)</span>是这个局部性能提升的比例，那么有：<br />
<span class="math display">\[
T_{new} = T_{old}[(1-\alpha)+\alpha/k]
\]</span><br />
<span class="math display">\[
S = \frac{1}{(1-\alpha)+\alpha/k}
\]</span><br />
我们用性能提升2.2<span class="math inline">\(\times\)</span>来说明<span
class="math inline">\(S=2.2\)</span>。</p>
<p>这个公式意义在于，要想加速大部分的系统，必须提升相当大一部分的速度。</p>
<h4 id="并发和并行">并发和并行</h4>
<p><strong>并发</strong>是指同时具有多个活动的系统，<strong>并行</strong>指用并发来使得一个系统运行更快。</p>
<h5 id="线程级并发">线程级并发</h5>
<p>用一个进程执行多个任务流。如果大多数实际运算由同一个处理器完成，这样的系统被称作<strong>单处理器系统</strong>。</p>
<p>而多核处理器（<em>Attention：此“核”(core)非彼“内核”(kernel</em>)，这里指的就是CPU核，内核是操作系统层面的东西）是将多个CPU集成到同一块芯片上。这些CPU核有独立的寄存器，计数器和L1、L2缓存，共享L3缓存和主存。</p>
<p><strong>超线程</strong>是一项允许一个CPU执行多个控制流的技术。超线程的处理器能够单个时钟周期决定执行哪个线程。现在的4核8线程就是这个技术。</p>
<p>多处理器的出现减少了模拟并发的需要，也让应用程序可以利用多线程跑得更快。</p>
<h5 id="指令级并行">指令级并行</h5>
<p>CPU可以利用一些技巧来同时执行多条指令。流水线的使用可以大大加快指令的执行速度。大多数处理器都能支持比一个周期一条指令更快的执行速度，我们称之为<strong>超标量</strong>。</p>
<h5 id="单指令多数据并行">单指令、多数据并行</h5>
<p><strong>单指令、多数据（SIMD并行）</strong>允许一条指令产生多个可以并行的操作。</p>
<h4 id="抽象">抽象</h4>
<p>抽象就是屏蔽底层细节，只展示实用的模型。一些常见的抽象如下图：</p>
<p><img src="/images/2023-12-10%20145919.png" /></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">黄浩诚</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">28k</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"PLIclouds/BlogComments","issue_term":"pathname","theme":"github-light"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
